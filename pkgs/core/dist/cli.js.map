{"version":3,"sources":["../src/cli.ts"],"sourcesContent":["import { register } from \"esbuild-register/dist/node\"\n\nregister({\n  \n})\n\nimport { Command } from \"commander\"\nimport requireDir from \"require-dir\"\n\nconst commandMods = requireDir(`${__dirname}/commands`)\n\n// cleanup non Command export\nObject.keys(commandMods).forEach(commandName => {\n  const command = commandMods[commandName]?.default\n  if (!(command instanceof Command)) {\n    delete commandMods[command]\n  }\n})\n\nconst defaultCommandKey = Object.keys(commandMods).find(command => command === '_default')\nconst commandKeys = Object.keys(commandMods)\n  .filter(command => command !== '_default')\n\nconst program = defaultCommandKey \n  ? commandMods[defaultCommandKey]\n  : new Command()\n\ncommandKeys.forEach(name => {\n  const command = commandMods[name].default as Command\n  command.name(name)\n  program.addCommand(command)\n})\n\nprogram.parse()"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,kBAAyB;AAMzB,uBAAwB;AACxB,yBAAuB;AAAA,IALvB,sBAAS,CAET,CAAC;AAKD,IAAM,kBAAc,mBAAAA,SAAW,GAAG,oBAAoB;AAGtD,OAAO,KAAK,WAAW,EAAE,QAAQ,iBAAe;AAC9C,QAAM,UAAU,YAAY,cAAc;AAC1C,MAAI,EAAE,mBAAmB,2BAAU;AACjC,WAAO,YAAY;AAAA,EACrB;AACF,CAAC;AAED,IAAM,oBAAoB,OAAO,KAAK,WAAW,EAAE,KAAK,aAAW,YAAY,UAAU;AACzF,IAAM,cAAc,OAAO,KAAK,WAAW,EACxC,OAAO,aAAW,YAAY,UAAU;AAE3C,IAAM,UAAU,oBACZ,YAAY,qBACZ,IAAI,yBAAQ;AAEhB,YAAY,QAAQ,UAAQ;AAC1B,QAAM,UAAU,YAAY,MAAM;AAClC,UAAQ,KAAK,IAAI;AACjB,UAAQ,WAAW,OAAO;AAC5B,CAAC;AAED,QAAQ,MAAM;","names":["requireDir"]}